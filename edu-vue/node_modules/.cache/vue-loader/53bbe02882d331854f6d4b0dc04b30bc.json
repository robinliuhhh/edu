{"remainingRequest":"F:\\workspace\\vscode\\vue\\test1-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\workspace\\vscode\\vue\\test1-vue\\src\\components\\video-detail\\Container.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\workspace\\vscode\\vue\\test1-vue\\src\\components\\video-detail\\Container.vue","mtime":1599033172212},{"path":"F:\\workspace\\vscode\\vue\\test1-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\workspace\\vscode\\vue\\test1-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\workspace\\vscode\\vue\\test1-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\workspace\\vscode\\vue\\test1-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBNdXRhdGlvbnMsIG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsNCmltcG9ydCB7IGZldGNoTGVzc29uUGxheUhpc3RvcnksIGZldGNoU2F2ZUhpc3RvcnkgfSBmcm9tICdAL3NlcnZpY2UvaW5kZXgnOw0KaW1wb3J0IHsgUExBWUVSX0dFVF9TVEFUVVMsIFNXSVRDSF9QTEFZX1NUQVRVUyB9IGZyb20gJ0Avc3RvcmUvYWN0aW9ucyc7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAnQ29udGFpbmVyJywNCiAgICBjb21wb25lbnRzOiB7DQogICAgICAgIFZpZGVvUGxheWVyOiAoKSA9PiBpbXBvcnQoJ0Bjb21wb25lbnRzL1ZpZGVvL1ZpZGVvUGxheWVyJykNCiAgICB9LA0KICAgIHByb3BzOiB7DQogICAgICAgIGlzU2hvd0NvbnRlbnRzOiB7DQogICAgICAgICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgICAgICAgZGVmYXVsdDogdHJ1ZQ0KICAgICAgICB9DQogICAgfSwNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4ge307DQogICAgfSwNCiAgICB3YXRjaDogew0KICAgICAgICBpc1N3aXRjaFZpZGVvKHZhbCwgb2xkVmFsKSB7DQogICAgICAgICAgICBpZiAoIXZhbCAmJiBvbGRWYWwpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnNldE1lZGlhQ29udGFpbmVyKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9LA0KICAgIGNvbXB1dGVkOiB7DQogICAgICAgIC4uLm1hcEdldHRlcnMoWw0KICAgICAgICAgICAgJ2NvdXJzZUluZm8nLA0KICAgICAgICAgICAgJ3BsYXllclN0YXR1cycsDQogICAgICAgICAgICAnaXNTd2l0Y2hWaWRlbycsDQogICAgICAgICAgICAnY291cnNlU2VjdGlvbnMnLA0KICAgICAgICAgICAgJ2lzY2FuSGlkZUZhc3QnDQogICAgICAgIF0pLA0KICAgICAgICBjb250YWluZXJTdHlsZSgpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzUGMgPyB7fSA6IHsgYmFja2dyb3VuZDogJ3doaXRlJyB9Ow0KICAgICAgICB9DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIC4uLm1hcE11dGF0aW9ucyhbDQogICAgICAgICAgICAnUExBWUVSX0dFVF9TVEFUVVMnLA0KICAgICAgICAgICAgJ1NFVF9DT1VSU0VfU0VDVElPTlMnLA0KICAgICAgICAgICAgJ1NXSVRDSF9QTEFZX1NUQVRVUycsDQogICAgICAgIF0pLA0KICAgICAgICAuLi5tYXBBY3Rpb25zKFsNCiAgICAgICAgICAgICdzZXRMZXNzb25QbGF5ZXInLA0KICAgICAgICAgICAgJ3NldExlc3Nvbkhpc3RvcnlSZXEnDQogICAgICAgIF0pLA0KICAgICAgICBiYWNrKCkgew0KICAgICAgICAgICAgd2luZG93Lmhpc3RvcnkuYmFjaygpOw0KICAgICAgICB9LA0KICAgICAgICBzZXRNZWRpYUNvbnRhaW5lcigpIHsNCiAgICAgICAgICAgIGxldCB7IGlkOiBsZXNzb25JZCwgdGhlbWU6IGxlc3Nvbk5hbWUgfSA9IHRoaXMucGxheWVyU3RhdHVzOw0KICAgICAgICAgICAgZmV0Y2hMZXNzb25QbGF5SGlzdG9yeSh7DQogICAgICAgICAgICAgICAgbGVzc29uSWQNCiAgICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLlBMQVlFUl9HRVRfU1RBVFVTKE9iamVjdC5hc3NpZ24oe30sIHRoaXMucGxheWVyU3RhdHVzLCB7DQogICAgICAgICAgICAgICAgICAgIGhpc3RvcnlOb2RlOiByZXMuY29udGVudCAmJiByZXMuY29udGVudC5oaXN0b3J5Tm9kZSB8fCAwDQogICAgICAgICAgICAgICAgfSkpOw0KICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBsZXQgdmlkZW9Db25maWcgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXNzb25JZCwNCiAgICAgICAgICAgICAgICAgICAgICAgIGlzVENQbGF5ZXI6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbEJhcjogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXliYWNrUmF0ZU1lbnVCdXR0b246ICF0aGlzLmlzY2FuSGlkZUZhc3QsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NDb250cm9sOiAhdGhpcy5pc2NhbkhpZGVGYXN0DQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnZpZGVvLmluaXRWaWRlbyh2aWRlb0NvbmZpZywgbGVzc29uTmFtZSk7DQogICAgICAgICAgICAgICAgfSwgNTAwKTsNCiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZShlcnIubXNnKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9LA0KICAgICAgICBzd2l0Y2hMZXNzb24odHlwZSwgbGVzc29uSW5mbykgew0KICAgICAgICAgICAgbGV0IHsgbmV4dExlc3NvbiwgcHJldmlvdXNMZXNzb24sIGlzSGFzTmV4dCwgaXNIYXNQcmV2aW91cyB9ID0gdGhpcy5wbGF5ZXJTdGF0dXM7DQogICAgICAgICAgICBsZXQgaWQgPSBudWxsOw0KICAgICAgICAgICAgaWYgKHR5cGUgPT09ICduZXh0JyAmJiBpc0hhc05leHQpIHsNCiAgICAgICAgICAgICAgICBpZCA9IG5leHRMZXNzb24uaWQ7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmICh0eXBlID09PSAncHJldicgJiYgaXNIYXNQcmV2aW91cykgew0KICAgICAgICAgICAgICAgIGlkID0gcHJldmlvdXNMZXNzb24uaWQ7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmICh0eXBlID09PSAnbGVzc29uJykgew0KICAgICAgICAgICAgICAgIGlkID0gbGVzc29uSW5mby5pZDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlkICYmIHRoaXMuc2V0TGVzc29uUGxheWVyKHsgaWQgfSk7DQogICAgICAgIH0sDQogICAgICAgIHVwZGF0ZUxlc3Nvbkhpc3RvcnkoaGlzdG9yeU5vZGUpIHsNCiAgICAgICAgICAgIGxldCB7IGNvdXJzZUlkLCBzZWN0aW9uSWQsIGlkLCBoYXNMZWFybmVkIH0gPSB0aGlzLnBsYXllclN0YXR1czsNCiAgICAgICAgICAgIHRoaXMuc2V0TGVzc29uSGlzdG9yeVJlcSh7DQogICAgICAgICAgICAgICAgY291cnNlSWQsDQogICAgICAgICAgICAgICAgc2VjdGlvbklkLA0KICAgICAgICAgICAgICAgIGlkLA0KICAgICAgICAgICAgICAgIG1lZGlhVHlwZTogMSwNCiAgICAgICAgICAgICAgICBoaXN0b3J5Tm9kZSwNCiAgICAgICAgICAgICAgICBoYXNMZWFybmVkDQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgcmVwb3J0SGVhcnQoKSB7DQoNCiAgICAgICAgfSwNCiAgICAgICAgc3dpdGNoUGxheVN0YXR1cyhzdGF0dXMpIHsNCiAgICAgICAgICAgIGxldCBpc1BhdXNlID0gc3RhdHVzICE9PSAncGxheSc7DQogICAgICAgICAgICB0aGlzLlNXSVRDSF9QTEFZX1NUQVRVUyhpc1BhdXNlKTsNCiAgICAgICAgfQ0KICAgIH0NCn07DQo="},{"version":3,"sources":["Container.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Container.vue","sourceRoot":"src/components/video-detail","sourcesContent":["<template>\r\n    <div\r\n        :class=\"{\r\n            'left-container top-container': true,\r\n            'left-container-all': !this.isShowContents\r\n        }\"\r\n    >\r\n        <nav\r\n            v-if=\"isPc\"\r\n            class=\"nav\"\r\n        >\r\n            <div class=\"nav-back\">\r\n                <span class=\"kw-icon-back\" />\r\n                <span @click=\"back\">&nbsp;返回</span>\r\n            </div>\r\n            <span>{{ courseInfo.courseName }}> {{ playerStatus.theme }}</span>\r\n        </nav>\r\n        <div\r\n            :class=\"{\r\n                'video-content': true,\r\n                calc: isPc\r\n            }\"\r\n        >\r\n            <VideoPlayer\r\n                ref=\"video\"\r\n                :container-style=\"containerStyle\"\r\n                @switchLesson=\"switchLesson\"\r\n                @updateLessonHistory=\"updateLessonHistory\"\r\n                @reportHeart=\"reportHeart\"\r\n                @switchPlayStatus=\"switchPlayStatus\"\r\n            />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations, mapActions } from 'vuex';\r\nimport { fetchLessonPlayHistory, fetchSaveHistory } from '@/service/index';\r\nimport { PLAYER_GET_STATUS, SWITCH_PLAY_STATUS } from '@/store/actions';\r\n\r\nexport default {\r\n    name: 'Container',\r\n    components: {\r\n        VideoPlayer: () => import('@components/Video/VideoPlayer')\r\n    },\r\n    props: {\r\n        isShowContents: {\r\n            type: Boolean,\r\n            default: true\r\n        }\r\n    },\r\n    data() {\r\n        return {};\r\n    },\r\n    watch: {\r\n        isSwitchVideo(val, oldVal) {\r\n            if (!val && oldVal) {\r\n                this.setMediaContainer();\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapGetters([\r\n            'courseInfo',\r\n            'playerStatus',\r\n            'isSwitchVideo',\r\n            'courseSections',\r\n            'iscanHideFast'\r\n        ]),\r\n        containerStyle() {\r\n            return this.isPc ? {} : { background: 'white' };\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapMutations([\r\n            'PLAYER_GET_STATUS',\r\n            'SET_COURSE_SECTIONS',\r\n            'SWITCH_PLAY_STATUS',\r\n        ]),\r\n        ...mapActions([\r\n            'setLessonPlayer',\r\n            'setLessonHistoryReq'\r\n        ]),\r\n        back() {\r\n            window.history.back();\r\n        },\r\n        setMediaContainer() {\r\n            let { id: lessonId, theme: lessonName } = this.playerStatus;\r\n            fetchLessonPlayHistory({\r\n                lessonId\r\n            }).then(res => {\r\n                this.PLAYER_GET_STATUS(Object.assign({}, this.playerStatus, {\r\n                    historyNode: res.content && res.content.historyNode || 0\r\n                }));\r\n                setTimeout(() => {\r\n                    let videoConfig = {\r\n                        lessonId,\r\n                        isTCPlayer: false,\r\n                        controlBar: {\r\n                            playbackRateMenuButton: !this.iscanHideFast,\r\n                            progressControl: !this.iscanHideFast\r\n                        },\r\n                    };\r\n                    this.$refs.video.initVideo(videoConfig, lessonName);\r\n                }, 500);\r\n            }).catch(err => {\r\n                this.$message(err.msg);\r\n            });\r\n        },\r\n        switchLesson(type, lessonInfo) {\r\n            let { nextLesson, previousLesson, isHasNext, isHasPrevious } = this.playerStatus;\r\n            let id = null;\r\n            if (type === 'next' && isHasNext) {\r\n                id = nextLesson.id;\r\n            }\r\n            else if (type === 'prev' && isHasPrevious) {\r\n                id = previousLesson.id;\r\n            }\r\n            else if (type === 'lesson') {\r\n                id = lessonInfo.id;\r\n            }\r\n            id && this.setLessonPlayer({ id });\r\n        },\r\n        updateLessonHistory(historyNode) {\r\n            let { courseId, sectionId, id, hasLearned } = this.playerStatus;\r\n            this.setLessonHistoryReq({\r\n                courseId,\r\n                sectionId,\r\n                id,\r\n                mediaType: 1,\r\n                historyNode,\r\n                hasLearned\r\n            });\r\n        },\r\n        reportHeart() {\r\n\r\n        },\r\n        switchPlayStatus(status) {\r\n            let isPause = status !== 'play';\r\n            this.SWITCH_PLAY_STATUS(isPause);\r\n        }\r\n    }\r\n};\r\n</script>\r\n<style lang=\"less\">\r\n    .exam-content-h5-tip-title {\r\n        font-weight:500;\r\n        font-size:32px;\r\n        color: #ffffff;\r\n        margin-bottom: 20px;\r\n    }\r\n</style>\r\n<style lang=\"less\" scoped>\r\nbutton:active {\r\n    opacity: 0.7;\r\n}\r\n\r\n\r\n@media screen and (min-width: 750px) {\r\n    .left-container {\r\n        margin-right: 380PX;\r\n        transition: margin-right 0.3s ease 0s;\r\n        height: 100%;\r\n        overflow-y: auto;\r\n        .nav {\r\n            height:60PX;\r\n            line-height: 60PX;\r\n            background:rgba(50,55,62,1);\r\n            font-size:14PX;\r\n            font-weight:400;\r\n            color:rgba(255,255,255,1);\r\n            padding-left: 80PX;\r\n            position: relative;\r\n        }\r\n        .kw-icon-back {\r\n            &:before {\r\n                top: 1px;\r\n                position: relative;\r\n            }\r\n            &:after {\r\n                position: absolute;\r\n                right: -10PX;\r\n                top: 24PX;\r\n                display: block;\r\n                content: '';\r\n                height: 13PX;\r\n                border-right: 1PX solid rgba(255, 255, 255, 0.49);\r\n            }\r\n        }\r\n        .nav-back {\r\n            position: absolute;\r\n            top: 1PX;\r\n            left: 10PX;\r\n            cursor: pointer;\r\n            &:hover {\r\n                color: #00B38a;\r\n            }\r\n        }\r\n        .video-content {\r\n            position: relative;\r\n            background: #272C30;\r\n            overflow-x: hidden;\r\n        }\r\n    }\r\n}\r\n\r\n.left-container-all {\r\n    margin-right: 0;\r\n}\r\n\r\n@media screen and (max-width: 750px) {\r\n    .nav {\r\n        display: none;\r\n    }\r\n    .top-container {\r\n        height: 422px;\r\n        position: relative;\r\n        background: url('../../assets/train-course/live-bg@2x.png') no-repeat;\r\n        background-size: 100%;\r\n        .video-content {\r\n            height: 100%;\r\n        }\r\n    }\r\n}\r\n\r\n</style>\r\n"]}]}
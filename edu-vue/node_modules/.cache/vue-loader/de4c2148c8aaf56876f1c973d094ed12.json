{"remainingRequest":"F:\\workspace\\vscode\\vue\\test1-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\workspace\\vscode\\vue\\test1-vue\\src\\components\\video-detail\\Container.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"F:\\workspace\\vscode\\vue\\test1-vue\\src\\components\\video-detail\\Container.vue","mtime":1599033172212},{"path":"F:\\workspace\\vscode\\vue\\test1-vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\workspace\\vscode\\vue\\test1-vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\workspace\\vscode\\vue\\test1-vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\workspace\\vscode\\vue\\test1-vue\\node_modules\\less-loader\\dist\\cjs.js","mtime":1598937575224},{"path":"F:\\workspace\\vscode\\vue\\test1-vue\\node_modules\\style-resources-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\workspace\\vscode\\vue\\test1-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\workspace\\vscode\\vue\\test1-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5leGFtLWNvbnRlbnQtaDUtdGlwLXRpdGxlIHsKICAgIGZvbnQtd2VpZ2h0OjUwMDsKICAgIGZvbnQtc2l6ZTozMnB4OwogICAgY29sb3I6ICNmZmZmZmY7CiAgICBtYXJnaW4tYm90dG9tOiAyMHB4Owp9Cg=="},{"version":3,"sources":["Container.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiJA;AACA;AACA;AACA;AACA;AACA","file":"Container.vue","sourceRoot":"src/components/video-detail","sourcesContent":["<template>\r\n    <div\r\n        :class=\"{\r\n            'left-container top-container': true,\r\n            'left-container-all': !this.isShowContents\r\n        }\"\r\n    >\r\n        <nav\r\n            v-if=\"isPc\"\r\n            class=\"nav\"\r\n        >\r\n            <div class=\"nav-back\">\r\n                <span class=\"kw-icon-back\" />\r\n                <span @click=\"back\">&nbsp;返回</span>\r\n            </div>\r\n            <span>{{ courseInfo.courseName }}> {{ playerStatus.theme }}</span>\r\n        </nav>\r\n        <div\r\n            :class=\"{\r\n                'video-content': true,\r\n                calc: isPc\r\n            }\"\r\n        >\r\n            <VideoPlayer\r\n                ref=\"video\"\r\n                :container-style=\"containerStyle\"\r\n                @switchLesson=\"switchLesson\"\r\n                @updateLessonHistory=\"updateLessonHistory\"\r\n                @reportHeart=\"reportHeart\"\r\n                @switchPlayStatus=\"switchPlayStatus\"\r\n            />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations, mapActions } from 'vuex';\r\nimport { fetchLessonPlayHistory, fetchSaveHistory } from '@/service/index';\r\nimport { PLAYER_GET_STATUS, SWITCH_PLAY_STATUS } from '@/store/actions';\r\n\r\nexport default {\r\n    name: 'Container',\r\n    components: {\r\n        VideoPlayer: () => import('@components/Video/VideoPlayer')\r\n    },\r\n    props: {\r\n        isShowContents: {\r\n            type: Boolean,\r\n            default: true\r\n        }\r\n    },\r\n    data() {\r\n        return {};\r\n    },\r\n    watch: {\r\n        isSwitchVideo(val, oldVal) {\r\n            if (!val && oldVal) {\r\n                this.setMediaContainer();\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapGetters([\r\n            'courseInfo',\r\n            'playerStatus',\r\n            'isSwitchVideo',\r\n            'courseSections',\r\n            'iscanHideFast'\r\n        ]),\r\n        containerStyle() {\r\n            return this.isPc ? {} : { background: 'white' };\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapMutations([\r\n            'PLAYER_GET_STATUS',\r\n            'SET_COURSE_SECTIONS',\r\n            'SWITCH_PLAY_STATUS',\r\n        ]),\r\n        ...mapActions([\r\n            'setLessonPlayer',\r\n            'setLessonHistoryReq'\r\n        ]),\r\n        back() {\r\n            window.history.back();\r\n        },\r\n        setMediaContainer() {\r\n            let { id: lessonId, theme: lessonName } = this.playerStatus;\r\n            fetchLessonPlayHistory({\r\n                lessonId\r\n            }).then(res => {\r\n                this.PLAYER_GET_STATUS(Object.assign({}, this.playerStatus, {\r\n                    historyNode: res.content && res.content.historyNode || 0\r\n                }));\r\n                setTimeout(() => {\r\n                    let videoConfig = {\r\n                        lessonId,\r\n                        isTCPlayer: false,\r\n                        controlBar: {\r\n                            playbackRateMenuButton: !this.iscanHideFast,\r\n                            progressControl: !this.iscanHideFast\r\n                        },\r\n                    };\r\n                    this.$refs.video.initVideo(videoConfig, lessonName);\r\n                }, 500);\r\n            }).catch(err => {\r\n                this.$message(err.msg);\r\n            });\r\n        },\r\n        switchLesson(type, lessonInfo) {\r\n            let { nextLesson, previousLesson, isHasNext, isHasPrevious } = this.playerStatus;\r\n            let id = null;\r\n            if (type === 'next' && isHasNext) {\r\n                id = nextLesson.id;\r\n            }\r\n            else if (type === 'prev' && isHasPrevious) {\r\n                id = previousLesson.id;\r\n            }\r\n            else if (type === 'lesson') {\r\n                id = lessonInfo.id;\r\n            }\r\n            id && this.setLessonPlayer({ id });\r\n        },\r\n        updateLessonHistory(historyNode) {\r\n            let { courseId, sectionId, id, hasLearned } = this.playerStatus;\r\n            this.setLessonHistoryReq({\r\n                courseId,\r\n                sectionId,\r\n                id,\r\n                mediaType: 1,\r\n                historyNode,\r\n                hasLearned\r\n            });\r\n        },\r\n        reportHeart() {\r\n\r\n        },\r\n        switchPlayStatus(status) {\r\n            let isPause = status !== 'play';\r\n            this.SWITCH_PLAY_STATUS(isPause);\r\n        }\r\n    }\r\n};\r\n</script>\r\n<style lang=\"less\">\r\n    .exam-content-h5-tip-title {\r\n        font-weight:500;\r\n        font-size:32px;\r\n        color: #ffffff;\r\n        margin-bottom: 20px;\r\n    }\r\n</style>\r\n<style lang=\"less\" scoped>\r\nbutton:active {\r\n    opacity: 0.7;\r\n}\r\n\r\n\r\n@media screen and (min-width: 750px) {\r\n    .left-container {\r\n        margin-right: 380PX;\r\n        transition: margin-right 0.3s ease 0s;\r\n        height: 100%;\r\n        overflow-y: auto;\r\n        .nav {\r\n            height:60PX;\r\n            line-height: 60PX;\r\n            background:rgba(50,55,62,1);\r\n            font-size:14PX;\r\n            font-weight:400;\r\n            color:rgba(255,255,255,1);\r\n            padding-left: 80PX;\r\n            position: relative;\r\n        }\r\n        .kw-icon-back {\r\n            &:before {\r\n                top: 1px;\r\n                position: relative;\r\n            }\r\n            &:after {\r\n                position: absolute;\r\n                right: -10PX;\r\n                top: 24PX;\r\n                display: block;\r\n                content: '';\r\n                height: 13PX;\r\n                border-right: 1PX solid rgba(255, 255, 255, 0.49);\r\n            }\r\n        }\r\n        .nav-back {\r\n            position: absolute;\r\n            top: 1PX;\r\n            left: 10PX;\r\n            cursor: pointer;\r\n            &:hover {\r\n                color: #00B38a;\r\n            }\r\n        }\r\n        .video-content {\r\n            position: relative;\r\n            background: #272C30;\r\n            overflow-x: hidden;\r\n        }\r\n    }\r\n}\r\n\r\n.left-container-all {\r\n    margin-right: 0;\r\n}\r\n\r\n@media screen and (max-width: 750px) {\r\n    .nav {\r\n        display: none;\r\n    }\r\n    .top-container {\r\n        height: 422px;\r\n        position: relative;\r\n        background: url('../../assets/train-course/live-bg@2x.png') no-repeat;\r\n        background-size: 100%;\r\n        .video-content {\r\n            height: 100%;\r\n        }\r\n    }\r\n}\r\n\r\n</style>\r\n"]}]}
{"remainingRequest":"F:\\workspace\\vscode\\vue\\test1-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\workspace\\vscode\\vue\\test1-vue\\src\\components\\video-detail\\Content.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\workspace\\vscode\\vue\\test1-vue\\src\\components\\video-detail\\Content.vue","mtime":1599033172217},{"path":"F:\\workspace\\vscode\\vue\\test1-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\workspace\\vscode\\vue\\test1-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\workspace\\vscode\\vue\\test1-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\workspace\\vscode\\vue\\test1-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCc7DQppbXBvcnQgeyBnZXRTdHJMZW5ndGggfSBmcm9tICdAanMvdXRpbC9zdHJpbmcnOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogJ0NvbnRlbnQnLA0KICAgIGRhdGEoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBpc1Nob3dDb250ZW50czogdHJ1ZSwNCiAgICAgICAgICAgIGNvdXJzZVNlY3Rpb25zVG9wOiBbXSwNCiAgICAgICAgICAgIHNlY3Rpb25OYW1lSGVpZ2h0OiBudWxsLA0KICAgICAgICAgICAgaXNTaG93Rml4ZWQ6IGZhbHNlLA0KICAgICAgICAgICAgZml4ZWRTZWN0aW9uTmFtZTogJycsDQogICAgICAgICAgICBmaXhlZFNlY3Rpb25Ub3A6IG51bGwsDQogICAgICAgIH07DQogICAgfSwNCiAgICBjb21wdXRlZDogew0KICAgICAgICAuLi5tYXBHZXR0ZXJzKFsNCiAgICAgICAgICAgICdjb3Vyc2VTZWN0aW9ucycsDQogICAgICAgICAgICAnY291cnNlSW5mbycsDQogICAgICAgICAgICAnaXNHb3RDb3Vyc2VTZWN0aW9ucycsDQogICAgICAgICAgICAncGxheWVyU3RhdHVzJywNCiAgICAgICAgICAgICdpc1BhdXNlJywNCiAgICAgICAgXSkNCiAgICB9LA0KICAgIHdhdGNoOiB7DQogICAgICAgIGlzR290Q291cnNlU2VjdGlvbnM6IHsNCiAgICAgICAgICAgIGhhbmRsZXIodmFsLCBvbGRWYWwpIHsNCiAgICAgICAgICAgICAgICBpZiAodmFsICYmICFvbGRWYWwpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVMZXNzb25zRGF0YSgpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBpbW1lZGlhdGU6IHRydWUNCiAgICAgICAgfQ0KICAgIH0sDQogICAgbW91bnRlZCgpIHsNCiAgICAgICAgdGhpcy5nZXRTZWN0aW9uTmFtZVRvcCgpOw0KICAgICAgICB0aGlzLmluaXRTY3JvbGxMaXN0ZW5lcigpOw0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgICAuLi5tYXBBY3Rpb25zKFsNCiAgICAgICAgICAgICdzZXRMZXNzb25QbGF5ZXInDQogICAgICAgIF0pLA0KICAgICAgICBnZXRTdHJMZW5ndGgsDQogICAgICAgIGdldFNlY3Rpb25Db250ZW50KGl0ZW0pIHsNCiAgICAgICAgICAgIGxldCBzdHIgPSBpdGVtLnRoZW1lOw0KICAgICAgICAgICAgcmV0dXJuIGdldFN0ckxlbmd0aChzdHIpID4gNzAgPyB0aGlzLnNsaWNlU3RyKHN0ciwgNzApIDogc3RyOw0KICAgICAgICB9LA0KICAgICAgICBzbGljZVN0cihzdHIsIGNvdW50KSB7DQogICAgICAgICAgICBpZiAoIXN0cikgew0KICAgICAgICAgICAgICAgIHJldHVybiAnJzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGxldCBzdHJDb3VudCA9IGNvdW50IHx8IDEwOw0KICAgICAgICAgICAgbGV0IG51bSA9IDA7DQogICAgICAgICAgICBsZXQgaW5kOw0KICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICBudW0gKz0gZ2V0U3RyTGVuZ3RoKHN0cltpXSk7DQogICAgICAgICAgICAgICAgaWYgKG51bSA+PSBzdHJDb3VudCkgew0KICAgICAgICAgICAgICAgICAgICBpbmQgPSBpOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gc3RyLnNsaWNlKDAsIGluZCk7DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZUxlc3NvbnNEYXRhKGlzU2V0Q29udGFpbmVyID0gdHJ1ZSkgew0KICAgICAgICAgICAgaWYgKCF0aGlzLmlzR290Q291cnNlU2VjdGlvbnMpIHJldHVybjsNCiAgICAgICAgICAgIGxldCB7IGxlc3NvbklkIH0gPSB0aGlzLiRyb3V0ZS5xdWVyeTsNCiAgICAgICAgICAgIHRoaXMuc2V0TGVzc29uUGxheWVyKHsNCiAgICAgICAgICAgICAgICBpZDogTnVtYmVyKGxlc3NvbklkKQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGxldCBwbGF5aW5nTGVzc29uRE9NID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnQtc2VjdGlvbi1jaG9vc2UnKTsNCiAgICAgICAgICAgICAgICAgICAgcGxheWluZ0xlc3NvbkRPTSAmJiBwbGF5aW5nTGVzc29uRE9NLnNjcm9sbEludG9WaWV3KHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9LCAzMDApOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAgIHRvZ2dsZUNvbnRlbnRzKCkgew0KICAgICAgICAgICAgdGhpcy5pc1Nob3dDb250ZW50cyA9ICF0aGlzLmlzU2hvd0NvbnRlbnRzOw0KICAgICAgICAgICAgdGhpcy4kZW1pdCgnc3dpdGNoTWVudScsIHRoaXMuaXNTaG93Q29udGVudHMpOw0KICAgICAgICB9LA0KICAgICAgICBjbGlja1NlY3Rpb24obGVzc29uKSB7DQogICAgICAgICAgICBsZXQgeyBpZCwgY291cnNlSWQgfSA9IGxlc3NvbjsNCiAgICAgICAgICAgIGlmIChpZCA9PT0gdGhpcy5wbGF5ZXJTdGF0dXMuaWQpIHJldHVybjsNCiAgICAgICAgICAgIGlmIChsZXNzb24udHlwZSA9PT0gJ3dhaXQnKSB7DQogICAgICAgICAgICAgICAgbGV0IG1ldGhvZCA9IHRoaXMuaXNQYyA/ICckbWVzc2FnZScgOiAnc2hvd1RvYXN0JzsNCiAgICAgICAgICAgICAgICB0aGlzW21ldGhvZF0oJ+WGheWuuei/mOacquabtOaWsO+8jOivt+etieetieWTpicpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChsZXNzb24udHlwZSA9PT0gJ2xvY2snKSB7DQogICAgICAgICAgICAgICAgbGV0IG1ldGhvZCA9IHRoaXMuaXNQYyA/ICckbWVzc2FnZScgOiAnc2hvd1RvYXN0JzsNCiAgICAgICAgICAgICAgICB0aGlzW21ldGhvZF0oJ+ivt+i0reS5sOivvueoiycpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuc2V0TGVzc29uUGxheWVyKHsgaWQgfSk7DQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7DQogICAgICAgICAgICAgICAgbmFtZTogJ3ZpZGVvRGV0YWlsJywNCiAgICAgICAgICAgICAgICBxdWVyeTogew0KICAgICAgICAgICAgICAgICAgICBsZXNzb25JZDogaWQsDQogICAgICAgICAgICAgICAgICAgIGNvdXJzZUlkDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAgIGNsaWNrTGFiZWwoaW5kZXgpIHsNCiAgICAgICAgICAgIGxldCBpdGVtID0gdGhpcy5jb3Vyc2VTZWN0aW9uc1tpbmRleF07DQogICAgICAgICAgICBpdGVtLmZvbGQgPSAhaXRlbS5mb2xkOw0KICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMuY291cnNlU2VjdGlvbnMsIGluZGV4LCBpdGVtKTsNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0U2VjdGlvbk5hbWVUb3AoKSB7DQogICAgICAgICAgICB0aGlzLmNvdXJzZVNlY3Rpb25zVG9wID0gW107DQogICAgICAgICAgICBsZXQgY291cnNlU2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY29udGVudC1sYWJlbCcpOw0KICAgICAgICAgICAgbGV0IHsgaGVpZ2h0IH0gPSBjb3Vyc2VTZWN0aW9uc1swXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsNCiAgICAgICAgICAgIHRoaXMuc2VjdGlvbk5hbWVIZWlnaHQgPSBoZWlnaHQ7DQogICAgICAgICAgICBsZXQgUGNDb250YWluZXJQYWRkaW5nVG9wID0gNjA7DQogICAgICAgICAgICBjb3Vyc2VTZWN0aW9ucy5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgICAgICAgIGxldCB0b3AgPSAwOw0KICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzUEMpIHsNCiAgICAgICAgICAgICAgICAgICAgdG9wID0gaXRlbS5vZmZzZXRUb3AgKyBQY0NvbnRhaW5lclBhZGRpbmdUb3A7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB0b3AgPSBpdGVtLm9mZnNldFRvcDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy5jb3Vyc2VTZWN0aW9uc1RvcC51bnNoaWZ0KHsNCiAgICAgICAgICAgICAgICAgICAgdG9wLA0KICAgICAgICAgICAgICAgICAgICB0ZXh0OiBpdGVtLnRleHRDb250ZW50LnRyaW0oKQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAgIGluaXRTY3JvbGxMaXN0ZW5lcigpIHsNCiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmhhbmRsZVNjcm9sbCwgdHJ1ZSk7DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZVNjcm9sbChlKSB7DQogICAgICAgICAgICBsZXQgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnQtY29udGFpbmVyJyk7DQogICAgICAgICAgICBsZXQgc2Nyb2xsVG9wID0gY29udGFpbmVyLnNjcm9sbFRvcDsNCiAgICAgICAgICAgIHRoaXMuaXNTaG93Rml4ZWQgPSBzY3JvbGxUb3AgPiAyMDsNCiAgICAgICAgICAgIHRoaXMuaGFuZGxlU2VjdGlvbk5hbWVTY3JvbGwoKTsNCiAgICAgICAgfSwNCiAgICAgICAgaGFuZGxlU2VjdGlvbk5hbWVTY3JvbGwoKSB7DQogICAgICAgICAgICBsZXQgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnQtY29udGFpbmVyJyk7DQogICAgICAgICAgICBsZXQgc2Nyb2xsVG9wID0gY29udGFpbmVyLnNjcm9sbFRvcDsNCiAgICAgICAgICAgIGxldCB0YXJnZXRJbmRleCA9IHRoaXMuY291cnNlU2VjdGlvbnNUb3AuZmluZEluZGV4KGl0ZW0gPT4gew0KICAgICAgICAgICAgICAgIGlmIChzY3JvbGxUb3AgPiBpdGVtLnRvcCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmZpeGVkU2VjdGlvbk5hbWUgPSBpdGVtLnRleHQ7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHRoaXMuc2Nyb2xsU2VjdGlvbk5hbWUodGFyZ2V0SW5kZXgsIHNjcm9sbFRvcCk7DQogICAgICAgIH0sDQogICAgICAgIHNjcm9sbFNlY3Rpb25OYW1lKHRhcmdldEluZGV4LCBzdGFuZGFyZEhlaWdodCkgew0KICAgICAgICAgICAgbGV0IHNlY3Rpb25GaXhET00gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi1uYW1lLWZpeGVkJyk7DQogICAgICAgICAgICBpZiAoIXNlY3Rpb25GaXhET00pIHJldHVybjsNCiAgICAgICAgICAgIGlmICh0YXJnZXRJbmRleCA+IDAgJiYgc2VjdGlvbkZpeERPTSkgew0KICAgICAgICAgICAgICAgIGxldCBuZXh0U2VjdGlvbk5hbWVUb3AgPSB0aGlzLmNvdXJzZVNlY3Rpb25zVG9wW3RhcmdldEluZGV4IC0gMV0udG9wOw0KICAgICAgICAgICAgICAgIGxldCBjcml0aWNhbEhlaWdodCA9IHN0YW5kYXJkSGVpZ2h0ICsgNjA7DQogICAgICAgICAgICAgICAgaWYgKG5leHRTZWN0aW9uTmFtZVRvcCA8IGNyaXRpY2FsSGVpZ2h0KSB7DQogICAgICAgICAgICAgICAgICAgIHNlY3Rpb25GaXhET00uc3R5bGUudG9wID0gNjAgLSAoY3JpdGljYWxIZWlnaHQgLSBuZXh0U2VjdGlvbk5hbWVUb3ApICsgJ3B4JzsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHNlY3Rpb25GaXhET00uc3R5bGUudG9wID0gJzYwcHgnOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UgaWYgKHRhcmdldEluZGV4ID09PSAwKSB7DQogICAgICAgICAgICAgICAgc2VjdGlvbkZpeERPTS5zdHlsZS50b3AgPSAnNjBweCc7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgfSwNCiAgICBkZXN0cm95ZWQoKSB7DQogICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmhhbmRsZVNjcm9sbCwgdHJ1ZSk7DQogICAgfQ0KfTsNCg=="},{"version":3,"sources":["Content.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4HA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Content.vue","sourceRoot":"src/components/video-detail","sourcesContent":["<template>\r\n    <div style=\"height: 100%;\">\r\n        <div\r\n            class=\"detail-part-content-title\"\r\n        >\r\n            课程目录\r\n        </div>\r\n        <div class=\"study-percent-tip\">\r\n            <div class=\"week-progress\">\r\n                <img\r\n                    class=\"video-book\"\r\n                    src=\"../../assets/public-class/video_ic_book@2x.png\"\r\n                    alt=\"\"\r\n                >\r\n                <span class=\"progress-label\">{{ courseInfo.courseName }}</span>\r\n            </div>\r\n        </div>\r\n        <div class=\"detail-part-content-pc calc detail-part-content\">\r\n            <!-- pc 左侧收起按钮 -->\r\n            <div\r\n                v-if=\"isPc\"\r\n                class=\"content-fold\"\r\n                @click=\"toggleContents\"\r\n            >\r\n                <div\r\n                    :class=\"{\r\n                        'content-fold-img': true,\r\n                        'content-fold-img-rotate': !isShowContents\r\n                    }\"\r\n                />\r\n            </div>\r\n            <div class=\"content-container\">\r\n                <div\r\n                    v-if=\"isPc && isShowFixed\"\r\n                    class=\"section-name-fixed\"\r\n                    :class=\"{'right-hide': isShowFixed && !isShowContents}\"\r\n                >\r\n                    <div class=\"section-name-single single-line\">\r\n                        {{ fixedSectionName }}\r\n                    </div>\r\n                </div>\r\n                <div\r\n                    v-for=\"(sectionItem, sectionIndex) in courseSections\"\r\n                    :key=\"sectionItem.id\"\r\n                    v-if=\"sectionItem.status\"\r\n                >\r\n                    <div\r\n                        class=\"content-label\"\r\n                        @click=\"clickLabel(sectionIndex)\"\r\n                    >\r\n                        <div class=\"content-label-title single-line\">\r\n                            {{ sectionItem.sectionName }}\r\n                        </div>\r\n                        <img\r\n                            src=\"../../assets/train-course/day-arrow@2x.png\"\r\n                            :class=\"'arrow-icon ' + (sectionItem.fold && 'arrow-icon-fold' || '')\"\r\n                            alt=\"\"\r\n                        >\r\n                    </div>\r\n                    <div :class=\"'content-sections ' + (sectionItem.fold && 'content-sections-fold' || '')\">\r\n                        <div\r\n                            v-for=\"(item, index) in sectionItem.courseLessons\"\r\n                            :key=\"item.id\"\r\n                            v-if=\"item.status\"\r\n                            :class=\"{\r\n                                'content-section': true,\r\n                                'content-section-choose': playerStatus.id === item.id\r\n                            }\"\r\n                            @click=\"clickSection(item, sectionIndex, index)\"\r\n                        >\r\n                            <div\r\n                                :class=\"{\r\n                                    'section-item clearfix': true,\r\n                                    'section-item-wait': !item.hasVideo\r\n                                }\"\r\n                            >\r\n                                <span\r\n                                    v-if=\"isPc\"\r\n                                    class=\"kw-icon-video section-type-icon fl\"\r\n                                />\r\n                                <span\r\n                                    :class=\"{\r\n                                        'multiple-lines': getStrLength(item.theme) > 66,\r\n                                        'section-dec': true,\r\n                                        'need-update': item.type === 'wait' || item.type === 'lock'\r\n                                    }\"\r\n                                >\r\n                                    {{ getSectionContent(item) }}\r\n                                </span>\r\n                                <span\r\n                                    :class=\"{\r\n                                        'section-status-icon': true,\r\n                                        'lesson-icon-media': !isPause,\r\n                                        'pause-play': isPause,\r\n                                    }\"\r\n                                >\r\n                                    {{ item.type === 'wait' ? '待更新' : '' }}\r\n                                    {{ item.type === 'lock' ? '未解锁' : '' }}\r\n                                </span>\r\n                            </div>\r\n                            <div\r\n                                v-if=\"item.type !== 'wait'\"\r\n                                class=\"section-duration\"\r\n                            >\r\n                                <span\r\n                                    v-if=\"!item.hasLearned && item.canPlay\"\r\n                                    class=\"not-learn\"\r\n                                >未学</span>\r\n                                <span>时长：{{ item.duration || '' }}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <Toast\r\n            :show=\"isShowToast\"\r\n            :msg=\"toastStr\"\r\n            @onHide=\"hideToast\"\r\n        />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex';\r\nimport { getStrLength } from '@js/util/string';\r\n\r\nexport default {\r\n    name: 'Content',\r\n    data() {\r\n        return {\r\n            isShowContents: true,\r\n            courseSectionsTop: [],\r\n            sectionNameHeight: null,\r\n            isShowFixed: false,\r\n            fixedSectionName: '',\r\n            fixedSectionTop: null,\r\n        };\r\n    },\r\n    computed: {\r\n        ...mapGetters([\r\n            'courseSections',\r\n            'courseInfo',\r\n            'isGotCourseSections',\r\n            'playerStatus',\r\n            'isPause',\r\n        ])\r\n    },\r\n    watch: {\r\n        isGotCourseSections: {\r\n            handler(val, oldVal) {\r\n                if (val && !oldVal) {\r\n                    this.handleLessonsData();\r\n                }\r\n            },\r\n            immediate: true\r\n        }\r\n    },\r\n    mounted() {\r\n        this.getSectionNameTop();\r\n        this.initScrollListener();\r\n    },\r\n    methods: {\r\n        ...mapActions([\r\n            'setLessonPlayer'\r\n        ]),\r\n        getStrLength,\r\n        getSectionContent(item) {\r\n            let str = item.theme;\r\n            return getStrLength(str) > 70 ? this.sliceStr(str, 70) : str;\r\n        },\r\n        sliceStr(str, count) {\r\n            if (!str) {\r\n                return '';\r\n            }\r\n            let strCount = count || 10;\r\n            let num = 0;\r\n            let ind;\r\n            for (let i = 0; i < str.length; i++) {\r\n                num += getStrLength(str[i]);\r\n                if (num >= strCount) {\r\n                    ind = i;\r\n                    break;\r\n                }\r\n            }\r\n            return str.slice(0, ind);\r\n        },\r\n        handleLessonsData(isSetContainer = true) {\r\n            if (!this.isGotCourseSections) return;\r\n            let { lessonId } = this.$route.query;\r\n            this.setLessonPlayer({\r\n                id: Number(lessonId)\r\n            });\r\n            this.$nextTick(() => {\r\n                setTimeout(() => {\r\n                    let playingLessonDOM = document.querySelector('.content-section-choose');\r\n                    playingLessonDOM && playingLessonDOM.scrollIntoView({\r\n                        behavior: 'smooth'\r\n                    });\r\n                }, 300);\r\n            });\r\n        },\r\n        toggleContents() {\r\n            this.isShowContents = !this.isShowContents;\r\n            this.$emit('switchMenu', this.isShowContents);\r\n        },\r\n        clickSection(lesson) {\r\n            let { id, courseId } = lesson;\r\n            if (id === this.playerStatus.id) return;\r\n            if (lesson.type === 'wait') {\r\n                let method = this.isPc ? '$message' : 'showToast';\r\n                this[method]('内容还未更新，请等等哦');\r\n                return;\r\n            }\r\n            if (lesson.type === 'lock') {\r\n                let method = this.isPc ? '$message' : 'showToast';\r\n                this[method]('请购买课程');\r\n                return;\r\n            }\r\n            this.setLessonPlayer({ id });\r\n            this.$router.replace({\r\n                name: 'videoDetail',\r\n                query: {\r\n                    lessonId: id,\r\n                    courseId\r\n                }\r\n            });\r\n        },\r\n        clickLabel(index) {\r\n            let item = this.courseSections[index];\r\n            item.fold = !item.fold;\r\n            this.$set(this.courseSections, index, item);\r\n        },\r\n        getSectionNameTop() {\r\n            this.courseSectionsTop = [];\r\n            let courseSections = document.querySelectorAll('.content-label');\r\n            let { height } = courseSections[0].getBoundingClientRect();\r\n            this.sectionNameHeight = height;\r\n            let PcContainerPaddingTop = 60;\r\n            courseSections.forEach(item => {\r\n                let top = 0;\r\n                if (this.isPC) {\r\n                    top = item.offsetTop + PcContainerPaddingTop;\r\n                }\r\n                else {\r\n                    top = item.offsetTop;\r\n                }\r\n                this.courseSectionsTop.unshift({\r\n                    top,\r\n                    text: item.textContent.trim()\r\n                });\r\n            });\r\n        },\r\n        initScrollListener() {\r\n            window.addEventListener('scroll', this.handleScroll, true);\r\n        },\r\n        handleScroll(e) {\r\n            let container = document.querySelector('.content-container');\r\n            let scrollTop = container.scrollTop;\r\n            this.isShowFixed = scrollTop > 20;\r\n            this.handleSectionNameScroll();\r\n        },\r\n        handleSectionNameScroll() {\r\n            let container = document.querySelector('.content-container');\r\n            let scrollTop = container.scrollTop;\r\n            let targetIndex = this.courseSectionsTop.findIndex(item => {\r\n                if (scrollTop > item.top) {\r\n                    this.fixedSectionName = item.text;\r\n                    return true;\r\n                }\r\n                return false;\r\n            });\r\n            this.scrollSectionName(targetIndex, scrollTop);\r\n        },\r\n        scrollSectionName(targetIndex, standardHeight) {\r\n            let sectionFixDOM = document.querySelector('.section-name-fixed');\r\n            if (!sectionFixDOM) return;\r\n            if (targetIndex > 0 && sectionFixDOM) {\r\n                let nextSectionNameTop = this.courseSectionsTop[targetIndex - 1].top;\r\n                let criticalHeight = standardHeight + 60;\r\n                if (nextSectionNameTop < criticalHeight) {\r\n                    sectionFixDOM.style.top = 60 - (criticalHeight - nextSectionNameTop) + 'px';\r\n                }\r\n                else {\r\n                    sectionFixDOM.style.top = '60px';\r\n                }\r\n            }\r\n            else if (targetIndex === 0) {\r\n                sectionFixDOM.style.top = '60px';\r\n            }\r\n        },\r\n    },\r\n    destroyed() {\r\n        window.removeEventListener('scroll', this.handleScroll, true);\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n    .calc{\r\n        height: calc(~\"100% - 60px\");\r\n    }\r\n</style>\r\n<style scoped lang=\"less\">\r\n    @import '../../common/css/animation.less';\r\n    @media screen and (min-width: 750px) {\r\n        .detail-part-content-title {\r\n            height: 60PX;\r\n            line-height: 60PX;\r\n            background:rgba(64,70,77,1);\r\n            font-size:18PX;\r\n            font-weight:500;\r\n            color:rgba(255,255,255,1);\r\n            padding-left: 20PX;\r\n            position: relative;\r\n            z-index: 10;\r\n            .week-progress {\r\n                position: absolute;\r\n                top: 13PX;\r\n                right: 20PX;\r\n                line-height: 30PX;\r\n                font-size: 0;\r\n            }\r\n            .progress-label {\r\n                font-size: 12PX;\r\n                color: #989B9E;\r\n                padding-right: 6PX;\r\n            }\r\n            .progress-num {\r\n                font-size: 16PX;\r\n            }\r\n            .progress-point {\r\n                font-size: 12PX;\r\n            }\r\n        }\r\n        .study-percent-tip {\r\n            display: none;\r\n        }\r\n        .detail-part-content-pc {\r\n            display: block;\r\n            .content-container {\r\n                overflow: auto;\r\n                padding: 10PX 10PX 0;\r\n                position: relative;\r\n                height: 100%;\r\n                box-sizing: border-box;\r\n            }\r\n            .section-name-fixed {\r\n                width: 360PX;\r\n                height: 60PX;\r\n                position: fixed;\r\n                top: 60PX;\r\n                right: 10PX;\r\n                background: #2b3035;\r\n                box-sizing: border-box;\r\n                line-height: 60PX;\r\n                padding: 0 10PX;\r\n                font-size: 14PX;\r\n                font-weight: 400;\r\n                color: #fff;\r\n                z-index: 1;\r\n                border-radius: 4PX;\r\n                font-family: PingFangSC-Regular;\r\n                transition: right 0.3s;\r\n            }\r\n            .right-hide {\r\n                right: -380PX;\r\n            }\r\n            .content-fold {\r\n                position: absolute;\r\n                left: -24PX;\r\n                top: 50%;\r\n                transform: translate(0, -50%);\r\n                width:24PX;\r\n                height:100PX;\r\n                background-color:rgba(50,55,62, 0.7);\r\n                border-radius:8px 0PX 0PX 8px;\r\n                z-index: 1;\r\n            }\r\n            .content-fold-img {\r\n                background: url(\"../../assets/train-course/day-arrow@2x.png\") no-repeat;\r\n                width: 18PX;\r\n                height: 18PX;\r\n                position: absolute;\r\n                left: 50%;\r\n                top: 50%;\r\n                transform: translate(-50%, -50%) rotate(90deg);\r\n                background-size: contain;\r\n                transition: all 0.3s ease 0s;\r\n            }\r\n            .content-fold-img-rotate {\r\n                transform: translate(-50%, -50%) rotate(270deg);\r\n            }\r\n            .content-label {\r\n                position: relative;\r\n                height: 60PX;\r\n                line-height: 60PX;\r\n                font-size:14PX;\r\n                font-weight:400;\r\n                color:rgba(255,255,255,1);\r\n                padding: 0 10PX;\r\n                background:rgba(43,48,53,1);\r\n                border-radius:4px;\r\n                margin-top: 10PX;\r\n            }\r\n            .content-label-title {\r\n                width: 310PX;\r\n                height: 60PX;\r\n            }\r\n            .arrow-icon {\r\n                width: 18PX;\r\n                height: 18PX;\r\n                position: absolute;\r\n                top: 21PX;\r\n                right: 10PX;\r\n                transition: all 0.3s ease;\r\n                transform: rotate(180deg);\r\n            }\r\n            .arrow-icon-fold {\r\n                transform: rotate(0);\r\n            }\r\n            .section-item {\r\n                position: relative;\r\n            }\r\n            .section-dec {\r\n                max-width: 270PX;\r\n                display: inline-block;\r\n                vertical-align: bottom;\r\n                word-break:break-all;\r\n            }\r\n            .section-status-icon {\r\n                font-size: 12PX;\r\n                position: absolute;\r\n                right: 0;\r\n                top: 1PX;\r\n                color: rgba(152,155,158,1);\r\n            }\r\n            .content-sections {\r\n                transition: all 1s ease;\r\n            }\r\n            .content-sections-fold {\r\n                height: 0;\r\n                overflow: hidden;\r\n            }\r\n            .content-section {\r\n                padding: 15PX 10PX;\r\n                color: #FFFFFF;\r\n                font-size: 14PX;\r\n                min-height: 40PX;\r\n                border-bottom: 1px solid rgba(39,44,48,1);\r\n                font-family: none;\r\n                opacity: 0.7;\r\n                &:hover {\r\n                    background: #2b3035;\r\n                    cursor: pointer;\r\n                }\r\n                &:last-of-type {\r\n                    border-bottom: none;\r\n                    margin-bottom: 25PX;\r\n                }\r\n            }\r\n            .section-type-icon {\r\n                font-size: 16PX;\r\n                vertical-align: middle;\r\n                margin: 4PX 10PX 0 0;\r\n            }\r\n            .kw-icon-exam {\r\n                font-size: 17PX;\r\n            }\r\n            .content-section-choose {\r\n                color: #00B38a;\r\n                .section-status-icon {\r\n                    color: #00B38a;\r\n                }\r\n                .lesson-icon-media {\r\n                    width: 18PX;\r\n                    height: 18PX;\r\n                    animation: pcPlayerAnimate 2s step-start infinite;\r\n                    background: url('../../assets/course/player-icon.png') no-repeat;\r\n                    background-size: cover;\r\n                    background-position: 0 0;\r\n                    right: -6px;\r\n                    &::before {\r\n                        content: '';\r\n                    }\r\n                }\r\n                .pause-play {\r\n                    width: 18PX;\r\n                    height: 18PX;\r\n                    background: url('../../assets/course/player-icon.png') no-repeat;\r\n                    background-size: cover;\r\n                    background-position: 0 0;\r\n                }\r\n            }\r\n            .section-duration {\r\n                font-size: 12PX;\r\n                margin-top: 4PX;\r\n                padding-left: 26PX;\r\n                color: rgba(255, 255, 255, 70%);\r\n            }\r\n            .not-learn {\r\n                width: 30PX;\r\n                display: inline-block;\r\n                text-align: center;\r\n                height: 16PX;\r\n                background: rgba(255, 255, 255, 0.096);\r\n                border-radius: 2PX;\r\n                font-size: 12PX;\r\n                color: rgba(255,255,255,1);\r\n                line-height: 16PX;\r\n            }\r\n            .need-update {\r\n                color: rgba(152,155,158,1);\r\n            }\r\n        }\r\n        .multiple-lines {\r\n            position: relative;\r\n            max-height: 44PX;\r\n            overflow: hidden;\r\n        }\r\n        .multiple-lines:after {\r\n            content: \"...\";\r\n            font-weight: 400;\r\n            position: absolute;\r\n            bottom: 0;\r\n        }\r\n    }\r\n\r\n    @media screen and (max-width: 750px) {\r\n        .detail-part-content-title {\r\n            display: none;\r\n        }\r\n        .study-percent-tip {\r\n            display: block;\r\n            height: 80px;\r\n            .week-progress {\r\n                position: absolute;\r\n                top: 0;\r\n                left: 0;\r\n                right: 0;\r\n                padding-left: 80px;\r\n                line-height: 80px;\r\n                font-size: 0;\r\n                height: 80px;\r\n                box-shadow:0px 2px 10px 0px rgba(0,0,0,0.05);\r\n            }\r\n            .video-book {\r\n                width: 28px;\r\n                height: 28px;\r\n                position: absolute;\r\n                top: 26px;\r\n                left: 40px;\r\n            }\r\n            .progress-label {\r\n                font-size: 24px;\r\n                color: #333333;\r\n            }\r\n        }\r\n        .detail-part-content {\r\n            display: block;\r\n            overflow: auto;\r\n            padding: 30px 40px 30px;\r\n            box-sizing: border-box;\r\n            position: absolute;\r\n            top: 80px;\r\n            left: 0;\r\n            right: 0;\r\n            bottom: 0;\r\n            height: auto;\r\n            .content-label {\r\n                height: 85px;\r\n                line-height: 85px;\r\n                font-size: 32px;\r\n                font-weight: 500;\r\n                color: #333;\r\n            }\r\n            .arrow-icon {\r\n                display: none;\r\n            }\r\n            .content-section {\r\n                color: #666;\r\n                &:last-of-type {\r\n                    margin-bottom: 40px;\r\n                }\r\n            }\r\n            .content-section-choose {\r\n                color: #E5A817;\r\n                .lesson-icon-media {\r\n                    width: 60px;\r\n                    height: 60px;\r\n                    animation: playAnimate 2s step-start infinite;\r\n                    background: url('../../assets/train-course/playing-icon.png') no-repeat;\r\n                    background-size: cover;\r\n                    top: 10px;\r\n                    right: -6px;\r\n                    &::before {\r\n                        content: '';\r\n                    }\r\n                }\r\n            }\r\n            .section-item {\r\n                padding-top: 20px;\r\n                line-height: 40px;\r\n                font-size: 28px;\r\n                font-weight: 400;\r\n                position: relative;\r\n            }\r\n            .section-item-wait {\r\n                color: #CCCCCC;\r\n            }\r\n            .section-dec {\r\n                max-width: 600px;\r\n                vertical-align: bottom;\r\n                text-overflow: -o-ellipsis-lastline;\r\n                overflow: hidden;\r\n                text-overflow: ellipsis;\r\n                display: -webkit-box;\r\n                -webkit-line-clamp: 2;\r\n                line-clamp: 2;\r\n                -webkit-box-orient: vertical;\r\n            }\r\n            .section-status-icon {\r\n                font-size:20px;\r\n                position: absolute;\r\n                right: 0;\r\n                top: 18px;\r\n                color: #E8E9EB;\r\n            }\r\n            .section-duration {\r\n                font-size:20px;\r\n                font-family:PingFangSC-Regular,PingFang SC;\r\n                font-weight:400;\r\n                margin-top: 12px;\r\n                color: #999999;\r\n            }\r\n            .not-learn {\r\n                font-family:PingFangSC-Medium,PingFang SC;\r\n                font-weight:500;\r\n                color: #6BA0FA;\r\n                background:rgba(107,160,250, 0.08);\r\n                border-radius: 2px;\r\n                display: inline-block;\r\n                padding: 2px 8px;\r\n                margin-right: 12px;\r\n            }\r\n        }\r\n    }\r\n</style>\r\n"]}]}